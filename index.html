<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒŸ ì—´í˜ˆê°•ì‚¬ ë¡œë˜ ìƒì„±ê¸° ğŸŒŸ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Roboto+Mono:wght@700&display=swap" rel="stylesheet">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3737135009848849"
        crossorigin="anonymous"></script>

    <style>
        /* CSS ë³€ìˆ˜ ì„¤ì • */
        :root {
            --primary-gold: #fae37d;
            --secondary-gold: #e2cc81;
            --dark-bg: #1a1a2e; /* ì§™ì€ ë„¤ì´ë¹„ */
            --light-text: #f0f0f0;
            --ball-size: 3em; /* ë¡œë˜ ê³µ ê¸°ë³¸ í¬ê¸° (JSì—ì„œë„ ì‚¬ìš©) */
        }

        * {
            box-sizing: border-box;
            font-family: 'Noto Sans KR', sans-serif; /* ê¸°ë³¸ í°íŠ¸ ë³€ê²½ */
            color: var(--light-text);
        }

        html,
        body {
            margin: 0;
            padding: 0;
            background-color: var(--dark-bg); /* ë°°ê²½ìƒ‰ ì–´ë‘¡ê²Œ ë³€ê²½ */
        }

        /* ----- ë¡œë˜ ê³µ ìŠ¤íƒ€ì¼ ê°œì„  ----- */
        .lotto-wrapper {
            overflow: hidden;
            white-space: nowrap;
            padding: 18vw 2vw 5vw 2vw; /* íŒ¨ë”© ì¡°ì • */
            text-align: center; /* ê³µë“¤ì„ ì¤‘ì•™ ì •ë ¬ */
            min-height: 40vh; /* ìµœì†Œ ë†’ì´ í™•ë³´ */
        }

        .lotto-wrapper>.lotto-ball {
            font-size: 4.4vw;
            width: var(--ball-size);
            height: var(--ball-size);
            margin: 0.1em;
            
            display: inline-flex;
            justify-content: center;
            align-items: center;

            border-radius: 50%;
            position: relative;
            
            /* ì´ˆê¸° ìœ„ì¹˜: ì™¼ìª½ ë°– (transitionì„ ìœ„í•´) */
            left: -100vw; 
            opacity: 0;
            transition: all 0.5s ease-out, opacity 0.3s ease-out; /* ìœ„ì¹˜, íˆ¬ëª…ë„ ë³€í™” íŠ¸ëœì§€ì…˜ í†µí•© */
        }

        .lotto-wrapper>.lotto-ball.active {
            left: 0; /* ì¤‘ì•™ìœ¼ë¡œ ì´ë™ */
            opacity: 1;
        }

        .lotto-wrapper>.lotto-ball>.number {
            font-family: 'Roboto Mono', monospace; /* ìˆ«ìë§Œ í°íŠ¸ ìœ ì§€ */
            flex-grow: 1;
            text-align: center;
            font-weight: bold;
            font-size: 1em; /* ë¶€ëª¨ í¬ê¸° ê¸°ì¤€ */
            transition: transform 1.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* ë°”ìš´ìŠ¤ íš¨ê³¼ ì¶”ê°€ */
        }

        .lotto-wrapper>.lotto-ball.active>.number {
            transform: rotate(-720deg); /* íšŒì „ ê°ë„ ì¤„ì—¬ì„œ ë¹ ë¥´ê²Œ */
        }

        /* ì‰ë„ìš°ëŠ” ê¸°ì¡´ CSS ìœ ì§€ */

        /* ball color: 1~7ë²ˆê¹Œì§€ì˜ ìƒ‰ìƒ ê·¸ëŒ€ë¡œ ìœ ì§€ */
        /* ... ê¸°ì¡´ ë¡œë˜ ê³µ ìƒ‰ìƒ CSS ìœ ì§€ ... */
        .lotto-wrapper>.lotto-ball:nth-child(1) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(255, 126, 126, 1) 15%, rgba(255, 0, 0, 1) 50%, rgba(124, 0, 0, 1) 70%, rgba(255, 0, 0, 1) 100%); }
        .lotto-wrapper>.lotto-ball:nth-child(2) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(255, 191, 130, 1) 15%, rgba(255, 125, 0, 1) 50%, rgba(121, 59, 0, 1) 70%, rgba(255, 125, 0, 1) 100%); }
        .lotto-wrapper>.lotto-ball:nth-child(3) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(253, 255, 126, 1) 15%, rgba(252, 255, 0, 1) 50%, rgba(117, 119, 0, 1) 70%, rgba(252, 255, 0, 1) 100%); }
        .lotto-wrapper>.lotto-ball:nth-child(4) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(145, 255, 128, 1) 15%, rgba(34, 255, 0, 1) 50%, rgba(15, 115, 0, 1) 70%, rgba(34, 255, 0, 1) 100%); }
        .lotto-wrapper>.lotto-ball:nth-child(5) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(131, 232, 254, 1) 15%, rgba(0, 209, 255, 1) 50%, rgba(0, 100, 122, 1) 70%, rgba(0, 209, 255, 1) 100%); }
        .lotto-wrapper>.lotto-ball:nth-child(6) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(127, 140, 255, 1) 15%, rgba(0, 26, 255, 1) 50%, rgba(0, 12, 121, 1) 70%, rgba(0, 26, 255, 1) 100%); }
        .lotto-wrapper>.lotto-ball:nth-child(7) { background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 1) 0%, rgba(201, 134, 255, 1) 15%, rgba(142, 0, 255, 1) 50%, rgba(65, 0, 117, 1) 70%, rgba(142, 0, 255, 1) 100%); }


        /* ----- ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë° ìœ„ì¹˜ ê°œì„  ----- */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 2vw;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .generate-btn {
            display: block;
            width: 12vw;
            height: 12vw;
            min-width: 80px;
            min-height: 80px;
            max-width: 120px;
            max-height: 120px;
            border-radius: 50%;
            border: 3px solid var(--primary-gold);
            font-size: 1.5rem;
            font-weight: bolder;
            cursor: pointer;
            background: linear-gradient(90deg, transparent 0%, transparent 25%, rgba(250, 227, 125, 0.5) 48%, var(--primary-gold) 50%, rgba(250, 227, 125, 0.5) 52%, transparent 75%, transparent 100%);
            background-size: 500%;
            background-position: 0 0;
            transition: background 0.7s ease-out, transform 0.2s;
            color: var(--dark-bg); /* ë²„íŠ¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ ì–´ë‘¡ê²Œ ë³€ê²½ */
        }
        
        .generate-btn:hover {
            background-position: 100% 0;
            transform: scale(1.05);
        }
        .generate-btn:active {
            transform: scale(0.95);
        }

        .lotto-master {
            width: 12vw;
            height: 12vw;
            min-width: 80px;
            min-height: 80px;
            max-width: 120px;
            max-height: 120px;
        }

        /* ----- ê´‘ê³  ìœ„ì¹˜ ìµœì í™” ----- */
        .ad-container {
            text-align: center;
            padding: 10px 0;
        }

        .fixed-ad {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 990px;
            z-index: 99;
            background-color: rgba(26, 26, 46, 0.9); /* ë°°ê²½ìƒ‰ê³¼ ìœ ì‚¬í•˜ê²Œ */
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.5);
            padding: 5px 0;
        }
        
        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ì¡°ì • */
        @media (max-width: 768px) {
            .lotto-wrapper>.lotto-ball {
                font-size: 7vw; /* ëª¨ë°”ì¼ì—ì„œ ê³µ í¬ê¸° í™•ëŒ€ */
            }
            .generate-btn {
                font-size: 1.2rem;
            }
            .header {
                justify-content: center; /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼/ë¡œê³  ì¤‘ì•™ ê·¼ì²˜ì— ë°°ì¹˜ */
            }
        }
    </style>
    <script>
        // ì „ì—­ ë³€ìˆ˜ë¡œ ê´€ë¦¬
        var AD_SLOT_ID = "4912822814";
        var AD_CLIENT_ID = "ca-pub-3737135009848849";
        
        // ë¡œë˜ ê³µ ì• ë‹ˆë©”ì´ì…˜ ë° ìƒì„±
        window.addEventListener("load", function () {
            var generateBtn = document.querySelector(".generate-btn");
            generateBtn.addEventListener("click", function () {
                generateBtn.disabled = true; // ì¤‘ë³µ í´ë¦­ ë°©ì§€
                
                // 1. ì¹´ìš´íŠ¸ë‹¤ìš´ (UX ê°œì„ )
                generateBtn.textContent = '3';
                setTimeout(() => generateBtn.textContent = '2', 300);
                setTimeout(() => generateBtn.textContent = '1', 600);

                setTimeout(() => {
                    generateBtn.textContent = 'ë²ˆí˜¸\nì¶”ì²¨'; // í…ìŠ¤íŠ¸ ë³µì›
                    generateLottoBalls(7);
                    generateBtn.disabled = false; // ë²„íŠ¼ í™œì„±í™”
                }, 1000); // 1ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ í›„ ì‹¤í–‰
                
                // 2. ê´‘ê³  ì¬ì´ˆê¸°í™” (ê´‘ê³  ìˆ˜ì… ì¦ëŒ€)
                // ìƒˆ ë²ˆí˜¸ë¥¼ ìƒì„±í•  ë•Œë§ˆë‹¤ ê´‘ê³  ë¡œë“œë¥¼ ìš”ì²­í•˜ì—¬ SPA í™˜ê²½ì— ëŒ€ë¹„
                refreshAdSense('lotto-ad-top');
                refreshAdSense('lotto-ad-fixed');
            });
            
            // ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œ ìƒë‹¨ ê´‘ê³  ì´ˆê¸°í™”
            refreshAdSense('lotto-ad-top'); 
        });

        // ë¦¬ì•¡íŠ¸ í™˜ê²½ì— ëŒ€ë¹„í•˜ì—¬ ê´‘ê³ ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì¬ì´ˆê¸°í™”í•˜ëŠ” í•¨ìˆ˜
        function refreshAdSense(id) {
            var adElement = document.getElementById(id);
            if (adElement) {
                // ê¸°ì¡´ ê´‘ê³ ë¥¼ ì œê±°í•˜ê³  ë‹¤ì‹œ ì‚½ì… (DOMì„ ê¹¨ë—í•˜ê²Œ)
                var parent = adElement.parentNode;
                var newAd = document.createElement('ins');
                newAd.className = 'adsbygoogle';
                newAd.id = id;
                newAd.style.display = 'block';
                newAd.setAttribute('data-ad-client', AD_CLIENT_ID);
                newAd.setAttribute('data-ad-slot', AD_SLOT_ID);
                newAd.setAttribute('data-ad-format', 'auto');
                newAd.setAttribute('data-full-width-responsive', 'true');
                
                parent.replaceChild(newAd, adElement);

                try {
                    // window.adsbygoogle ë°°ì—´ì— pushí•˜ì—¬ ê´‘ê³  ë¡œë“œë¥¼ ìš”ì²­
                    (window.adsbygoogle = window.adsbygoogle || []).push({});
                } catch (e) {
                    console.warn("AdSense push failed:", e);
                }
            }
        }

        // ë¡œë˜ ë²ˆí˜¸ ìƒì„± ë° ì •ë ¬
        function generateLottoBalls(size) {
            var template = document.querySelector("#lotto-ball-template");
            var lottoBallDiv = template.content.children[0];
            var lottoWrapperDiv = document.querySelector(".lotto-wrapper");
            lottoWrapperDiv.innerHTML = "";
            
            // 1. ë²ˆí˜¸ ìƒì„± ë° ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
            var lottoNumbers = generateLottoNumbers(size).sort((a, b) => a - b); 

            // 2. ê³µ ìƒì„± ë° ì• ë‹ˆë©”ì´ì…˜ ì ìš©
            for (var i = 0; i < lottoNumbers.length; i++) {
                var cloneDiv = document.importNode(lottoBallDiv, true);
                cloneDiv.querySelector(".number").textContent = lottoNumbers[i];
                lottoWrapperDiv.appendChild(cloneDiv);
                
                // ê³µì´ ìˆœì„œëŒ€ë¡œ 0.2ì´ˆ ê°„ê²©ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ê²Œ ë”œë ˆì´ ì„¤ì •
                moveBall(cloneDiv, i * 200); 
            }
        }

        function moveBall(target, delay) {
            setTimeout(function () {
                target.classList.add("active");
            }, delay);
        }

        function generateLottoNumbers(size) {
            var numbers = [];
            for (var i = 1; i <= 45; i++) {
                numbers.push(i);
            }

            //shuffle (í”¼ì…”-ì˜ˆì´ì¸  ì…”í”Œ ì•Œê³ ë¦¬ì¦˜ ìµœì í™”)
            for (var i = numbers.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                [numbers[i], numbers[j]] = [numbers[j], numbers[i]]; // ES6 Swap
            }

            //slice
            return numbers.slice(0, size);
        }
    </script>
</head>

<body>
    <template id="lotto-ball-template">
        <div class="lotto-ball">
            <div class="number">?</div>
            <div class="shadow"></div>
        </div>
    </template>

    <header class="header">
        <img class="lotto-master" src="./image/lotto.png" alt="ë¡œë˜ ë§ˆìŠ¤í„° ë¡œê³ ">
        <button class="generate-btn">ë²ˆí˜¸<br>ì¶”ì²¨</button>
    </header>
    
    <div class="ad-container" style="padding-top: 15vw;">
        <ins id="lotto-ad-top" class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-3737135009848849"
            data-ad-slot="4912822814"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        </div>

    <div class="lotto-wrapper">
        <p style="font-size: 1.2em; color: var(--secondary-gold);">ìœ„ì˜ 'ë²ˆí˜¸ ì¶”ì²¨' ë²„íŠ¼ì„ ëˆŒëŸ¬ í–‰ìš´ì„ í™•ì¸í•˜ì„¸ìš”!</p>
    </div>

    <div class="fixed-ad">
        <ins id="lotto-ad-fixed" class="adsbygoogle"
            style="display:block"
            data-ad-client="ca-pub-3737135009848849"
            data-ad-slot="4912822814"
            data-ad-format="auto"
            data-full-width-responsive="true"></ins>
        </div>

</body>

</html>